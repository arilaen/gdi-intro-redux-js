<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Introduction to Redux</title>

		<meta name="description" content="Girl Develop It framework for easily creating beautiful presentations using HTML in GDI theme. Forked from Hakim El Hattab's reveal.js">
		<meta name="author" content="Girl Develop It">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="dist/css/reveal.css">
		<link rel="stylesheet" href="dist/css/default.css" id="theme">

		<!-- For syntax highlighting -->
		<!-- light editor --><link rel="stylesheet" href="dist/css/light.css">
		<!-- dark editor <link rel="stylesheet" href="dist/css/dark.css">-->
		<!-- <link rel="stylesheet" href="dist/css/zenburn.css"> -->

		<link rel="stylesheet" href="plugin/accessibility-helper/css/accessibility-helper.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!-- If use the PDF print sheet so students can print slides-->

		<link rel="stylesheet" href="dist/css/print/pdf.css" type="text/css" media="print">
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
		<!--[if lt IE 9]>
        <script src="dist/js/html5shiv.js"></script>
        <![endif]-->
	</head>

	<body>

		<div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <img src="dist/img/circle-gdi-logo.png" alt="GDI Logo" class="noborder"/>
          <h1>Introduction to Redux</h1>
          <p>
            <small>Found at <a href ="https://github.com/arilaen/gdi-intro-redux-js">github</a>.</small>
          </p>
          <p>
            <small>David Rodriguez Fuentes/ <a href="http://linkedin.com/in/davidrfdeveloper">linkedin</a></small>
            <small>Marcela Rodriguez / <a href="http://twitter.com/arilaen">@arilaen</a></small>
          </p>
        </section>

        <section>
          <section>
            <h2>Heads Up</h2>
            <p>
              Girl Develop It is here to provide affordable and accessible programs to learn software through mentorship and hands-on instruction.</p>
            <p class="green">Some "rules"</p>
            <ul>
                <li>We are here for you!</li>
                <li>Every question is important</li>
                <li>Help each other</li>
                <li>Have fun</li>
            </ul>
          </section>
          <section>
            <h2>Introductions</h2>
            <h3>Tell us about yourself.</h3>
            <p>Which of your web projects are you most proud of?</p>
            <ul>
              <li>Who are you?</li>
              <li>What do you hope to get out of the class?</li>
              <li>If you could make any website, what would it be?</li>
            </ul>
          </section>
          <section>
            <h2>Prerequisites</h2>
            <ul>
              <li>Javascript</li>
              <li>ES6 (will cover the basics here)</li>
              <li>HTML/CSS</li>
              <li>Recommended: Experience with React or another frontend framework</li>
            </ul>
          </section>
          <section>
            <h2>You should have:</h2>
            <ul>
                <li>A <a href="https://codepen.io">Codepen account</a></li>
                <li>A text editor (<a href="https://atom.io">Atom</a>, <a href="https://sublimetext.com">Sublime Text</a>)</li>
                <li><a href=""><a href="https://git-scm.com/">Git</a> (usually already installed)</a>
                <li><a href="https://www.npmjs.com/">npm</a> <a href="https://github.com/creationix/nvm">(nvm recommended)</a></li>
                <li>Google Chrome with <a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd">Redux DevTools</a></li>
            </ul>
          </section>
        </section>

        <section>
          <h2>Table of contents</h2>
          <ol>
            <li><a href="#/3">First Session - Introduction to Redux</a></li>
            <li><a href="#/15">Second Session - Redux and React</a></li>
            <li><a href="#/20">Third Session - Continuing Redux and React</a></li>
            <li><a href="#/2">Fourth Session - Advanced Redux Concepts</a></li>
          </ol>
        </section>

        <section>
          <section>
            <h2>What is Redux?</h2>
            <ul>
              <li>"Single immutable state tree" - Dan Abramov</li>
              <ul>
                <li><strong>Single</strong>: One source of truth</li>
                <li><strong>Immutable</strong>: State is never mutated</li>
                <li><strong>State tree</strong>: Can handle different parts of state in specific ways</li>
              </ul>
              <li>Predictable way to handle data changes</li>
              <li>Flux implementation</li>
            </ul>
          </section>

          <section>
            <h2>Why Redux?</h2>
            <ul>
              <li>Managing state in complex apps is difficult</li>
              <li>When a user changes data, unanticipated scenarios can easily lead to errors</li>
              <li>Flux was originally created for React to address this problem at Facebook, but does not require a <strong>single, immutable</strong> state</li>
            </ul>
          </section>

          <section>
            <h1>Redux architecture</h1>
            <img src="./redux-flow.png" style="border: none; box-shadow:none;" />
          </section>

          <section>
            <h2><a href="http://redux.js.org/docs/introduction/ThreePrinciples.html">Three principles of Redux</a></h2>
            <ul>
              <li>Single source of truth</li>
              <li>Read-only state</li>
              <li>Pure functions</li>
            </ul>
            <p>These are summed up by describing Redux as a "single immutable state tree".</p>
          </section>

          <section>
            <h2>What is a pure function?</h2>
            <ul>
              <li>Does not mutate any of its arguments</li>
              <li>-- A pure function that changes state would only return a new state, without changing the old one.</li>
              <li>Does not have any side effects</li>
              <li>-- Side effects are changes outside of the function, including database updates and HTTP requests.</li>
            </ul>
          </section>

          <section>
            <h2>Redux makes state changes...</h2>
            <ul>
              <li>Predictable: you need to define every way your state can change</li>
              <li>Less bug prone</li>
              <li>Self documenting: you'll have a list of all possible state changes</li>
              <li>Reversible for debugging: Instead of changing your state, you'll have a history of states, and can time travel!</li>
            </ul>
            <img src="http://www.digitaljournal.com/img/8/9/9/i/5/4/5/o/DocWho.jpg" />
          </section>

          <section>
            <h2>Redux in a nutshell</h2>
            <ul>
              <li>Scales well</li>
              <li>Predictable</li>
              <li>Great debugging tools (like time travel!)</li>
              <li>Framework agnostic</li>
              <li>Overkill for very small or static sites</li>
            </ul>
          </section>
        </section>

        <section>
          <h2>Before diving into Redux...</h2>
          <p>Let's review some important new features in Javascript!</p>
        </section>

        <section>
          <section>
            <h2>New ECMAScript features Review</h2>
            <ul>
              <li>Arrow functions</li>
              <li>Spread Operator</li>
              <li>Object.assign</li>
              <li>Object Rest/Spread Properties for ECMAScript (Stage 3)</li>
            </ul>
          </section>

          <section>
            <h2>Arrow function</h2>
            <pre><code contenteditable class ="javascript">
              this.name = 'Window Name';

              const sayName = function() {
                return this.name;
              }

              const sayNameArrow = () => this.name;

              const instructor = {
                name: 'Marcela',
                sayName: sayName,
                sayNameArrow: sayNameArrow,
              };

              instructor.sayName(); // 'Marcela'
              instructor.sayNameArrow(); // 'Window Name'
            </code></pre>
          </section>

          <section>
            <h2>Object.assign</h2>
            <pre><code contenteditable class ="javascript">
              const firstObject = {};
              const secondObject = { a: 'a' };
              const thirdObject = { b: 'b', c: 'c' };

              const returnedObject = Object.assign(firstObject, secondObject, thirdObject);
              returnedObject === firstObject; // true
              returnedObject.a === 'a'; // true
              returnedObject.b === 'b'; // true
              returnedObject.c === 'c'; // true
            </code></pre>
          </section>
          <section>
            <h2>Spread operator</h2>
            <pre><code contenteditable class ="javascript">
              const numbers = [1, 2];

              const addNumber = (x, y) => x + y;
              add(...numbers); // 3

              const newNumbers = [...numbers, 3]; // [1, 2, 3];
            </code></pre>
          </section>
          <section>
            <h2>Rest/spread Properties for</h2>
            <h2>ECMAScript (stage 3)</h2>
            <pre><code contenteditable class ="javascript">
              const secondObject = { a: 'a' };
              const thirdObject = { b: 'b', c: 'c' };

              const returnedObject = { ...secondObject, ...thirdObject, d: 'd' };
              returnedObject.a === 'a'; // true
              returnedObject.b === 'b'; // true
              returnedObject.c === 'c'; // true
              returnedObject.d === 'd'; // true
            </code></pre>
          </section>
        </section>

        <section>
          <h2>Redux entities</h2>
          <ol>
            <li>Actions - describe a desired state change</li>
            <li>Reducers - determine next state from the current state and received action</li>
            <li>Store - stores current app state</li>
          </ol>
        </section>
        <section>
          <section>
            <h2>Actions</h2>
            <ul>
              <li>Describe how state should change and include any data that may be necessary</li>
              <li>Must contain a <code>type</code></li>
              <li>May optionally contain a <code>payload</code></li>
            </ul>
          </section>
          <section>
            <h2>Action Examples</h2>
            <pre><code contenteditable class ="javascript">
            const addOneAction = {
              type: 'ADD_ONE',
            };

            const addNumberAction = {
              type: 'ADD_NUMBER',
              payload: 2,
            };
            </code></pre>
          </section>
          <section>
            <h2>Action Creators</h2>
            <p>Makes generating actions consistent and eases creation of actions with dynamic payloads</p>
            <pre><code contenteditable class ="javascript">
            const addOne = () => ({
              type: 'ADD_ONE',
            });

            const addNumber = payload => ({
              type: 'ADD_NUMBER',
              payload,
            });
            </code></pre>
          </section>
        </section>
        <section>
          <section>
            <h2>Reducers</h2>
            <ul>
              <li>Determine next state from the current state and received action</li>
              <li>Must be a pure function - given the same current state and received action, the same next state must be returned</li>
              <li>Set an initial state</li>
            </ul>
          </section>
          <section>
            <h2>Reducer Example</h2>
            <pre><code contenteditable class ="javascript">
            const count = (state = 0, action) => {
              switch(action.type) {
                case 'ADD_ONE':
                  return state + 1;
                case 'ADD_NUMBER':
                  return state + action.payload;
                default:
                  return state;
              }
            };
            </code></pre>
          </section>
          <section>
            <h2>Reducer Usage</h2>
            <div style="display: flex;background: #333;">
              <pre><code contenteditable class ="javascript">
    const addOne = () => ({
      type: 'ADD_ONE',
    });

    const addNumber = payload => ({
      type: 'ADD_NUMBER',
      payload,
    });

    const count = (state = 0, action) => {
      switch(action.type) {
        case 'ADD_ONE':
          return state + 1;
        case 'ADD_NUMBER':
          return state + action.payload;
        default:
          return state;
      }
    };
              </code></pre>
              <pre><code contenteditable class ="javascript">
    const initialAction = {
      type: '@@redux/INIT',
    };

    let state = count(undefined, initialAction);

    console.log(state); // state #1?

    state = count(state, addOne());

    console.log(state); // state #2?

    state = count(state, addNumber(3));

    console.log(state); // state #3?

              </code></pre>
            </div>
          </section>
        </section>
        <section>
          <section>
            <h2>Store</h2>
            <ol>
              <li>Single source of truth</li>
              <li>State is read only via <code>getState</code> method</li>
              <li>Changes to state are made with pure functions (reducers) via <code>dispatch</code> method</li>
            </ol>
          </section>
          <section>
            <h2>Store</h2>
            <pre><code contenteditable class ="javascript">
            // simplified version of redux createStore function
            const createStore = reducer => {
                let state;

                const store =  {
                  getState() {
                    return state;
                  },
                  dispatch(action) {
                    state = reducer(state, action);
                  },
                };

                store.dispatch({ type: '@@redux/INIT' });

                return store;
            };

            export default createStore;
            </code></pre>
          </section>
          <section>
            <h2>Store Usage</h2>
            <pre><code contenteditable class ="javascript">
            import { createStore } from 'redux';
            import count from './count';
            import { addOne, addNumber } from './actionCreators';

            const store = createStore(count);

            console.log(store.getState()); // state #1?

            store.dispatch(addOne());

            console.log(store.getState()); // state #2?

            store.dispatch(addNumber(3));

            console.log(store.getState()); // state #3?

            </code></pre>
          </section>
        </section>

        <section>
          <h1>Redux practice</h1>
          <a href="https://github.com/davidrf/gdi-intro-to-redux-count-reducer">https://github.com/davidrf/gdi-intro-to-redux-count-reducer</a>
        </section>

        <section>
          <section>
            <h2>Adding More Application Data to the Store</h2>
            <p>What will your state look like if you want to store a user's information which includes their first name and last name in addition to the count?</p>
          </section>
          <section>
            <h2>Sample Store Data With Count And User Data</h2>
            <pre><code contenteditable class="json">
            {
              count: 0,
              user: {
                firstName: '',
                lastName: ''
              }
            }
            </code></pre>
          </section>
          <section>
            <h2>Example: person reducer</h2>
            <pre><code contenteditable class="javascript">
            const initialState = {
              firstName: '',
              lastName: '',
            };
            const person = (state = initialState, action) => {
              switch(action.type) {
                case 'SET_FIRST_NAME':
                  return { ...state, firstName: action.payload };
                case 'SET_LAST_NAME':
                  return { ...state, lastName: action.payload };
                default:
                  return state;
              }
            };
            </code></pre>
          </section>
          <section>
            <h2>Combining Reducers</h2>
            <ul>
              <li>You want a reducer to be in charge of a slice of the data</li>
              <li class="fragment">However, Redux's <code>createStore</code> function only takes one reducer</li>
            </ul>
            <pre class="fragment"><code contenteditable class="javascript">
            import count from './count';
            import person from './person';

            const rootReducer = (state = {}, action) => {
              return {
                count: count(state.count, action),
                person: person(state.person, action),
              };
            };

            export default rootReducer;
            </code></pre>
          </section>
          <section>
            <h2>Using Redux's <code>combineReducers</code></h2>

            <pre><code contenteditable class="javascript">
            import count from './count';
            import person from './person';
            import { combineReducers } from 'redux';
            /*
            const rootReducer = (state = {}, action) => {
              return {
                count: count(state.count, action),
                person: person(state.person, action),
              };
            };
            */
            const rootReducer = combineReducers({
              count: count,
              person: person,
            });

            export default rootReducer;
            </code></pre>
          </section>
        </section>

        <section>
          <section>
            <h2>Immutable Data Management</h2>
            <ul>
              <li>Redux employs shallow equality checking in <code>combineReducers</code> for optimization purposes</li>
              <li>Immutable data management ultimately makes data handling safer</li>
              <li>Immutability allows undo and time-travel debugging functionality to be easily implemented</li>
            </ul>
          </section>

          <section>
            <h2>Updating Lists</h2>

            <pre><code contenteditable class="javascript">
            // example action
            // { type: 'ADD_FAVORITE_BOOK', payload: 'Harry Potter' }

            const favoriteBooks = (state = [], action) => {
              switch(action.type) {
                // INCORRECT WAY
                // case 'ADD_FAVORITE_BOOK':
                //  return state.push(action.payload);

                // CORRECT WAY
                case 'ADD_FAVORITE_BOOK':
                  return [...state, action.payload];
                default:
                  return state;
              }
            };
            </code></pre>
          </section>

          <section>
            <h2>Updating Objects</h2>

            <pre><code contenteditable class="javascript">
            // example action
            // { type: 'SET_FIRST_NAME', payload: 'Marcela' }

            const person = (state = { firstName: '' }, action) => {
              switch(action.type) {
                // INCORRECT WAY
                // case 'SET_FIRST_NAME':
                //  state.firstName = action.payload;
                //  return state;

                // CORRECT
                case 'SET_FIRST_NAME':
                  return { ...state, firstName: action.payload };
                default:
                  return state;
              }
            };
            </code></pre>
          </section>

          <section>
            <h2>Additional Immutability Resources</h2>
            <ul>
              <li><a href="http://redux.js.org/docs/faq/ImmutableData.html">Redux FAQ: Immutable Data</a></li>
            </ul>
          </section>
        </section>

        <section>
          <h2>Let's practice using Redux on Codepen!</h2>
          <p><a href="https://codepen.io/arilaen/pen/zPqvNe">https://codepen.io/arilaen/pen/zPqvNe</a></p>
        </section>

        <section>
          <h2>Local environment setup</h2>
          <ol>
            <li>Install create-react-app tool: <code>npm i -g create-react-app</code></li>
            <li>Create a new app: <code>create-react-app gdi-redux;cd gdi-redux</code></li>
            <li>Install Redux and react-redux (which we'll cover soon!): <code>npm install redux react-redux --save</code></li>
            <li>Try using Redux in src/index.js</li>
          </ol>
        </section>

        <section>
          <section>
            <h2>Day 1 Review</h2>
            <ul>
              <li>What is Redux?</li>
              <li>ES6</li>
              <li>Actions, Reducers, State</li>
              <li>Finishing local setup</li>
            </ul>
          </section>
          <section>
            <h2>What is Redux?</h2>
            <ul>
              <li class="fragment">"Single immutable state tree"</li>
              <li class="fragment">Predictable</li>
              <li class="fragment">Framework agnostic</li>
              <li class="fragment">Allows features like time travel</li>
              <li class="fragment"><a href="/#/3/2">Redux flow</a></li>
            </ul>
          </section>
          <section>
            <h2>ES6 Features</h2>
            <ul>
              <li class="fragment">Arrow functions</li>
              <li class="fragment">Object.assign</li>
              <li class="fragment">Rest/spread functions</li>
            </ul>
            <p>Codepen practice: <a href="https://codepen.io/arilaen/pen/qVNdvJ?editors=0010">https://codepen.io/arilaen/pen/qVNdvJ?editors=0010</a></p>
          </section>
          <section>
            <h2>What entities do we use in Redux?</h2>
            <ul>
              <li class="fragment">Actions</li>
              <li class="fragment">Reducers</li>
              <li class="fragment">State</li>
            </ul>
						<p class="fragment">Codepen: <a href="https://codepen.io/arilaen/pen/zPqvNe">https://codepen.io/arilaen/pen/zPqvNe</a><p>
          </section>
          <section>
            <h2>Local environment setup</h2>
            <ol>
              <li>Install create-react-app tool: <code>npm i -g create-react-app</code></li>
              <li>Create a new app: <code>create-react-app gdi-redux;cd gdi-redux</code></li>
              <li>Install Redux and react-redux (which we'll cover soon!): <code>npm install redux react-redux --save</code></li>
              <li>Try using Redux in src/index.js</li>
            </ol>
          </section>
        </section>

        <section>
          <section>
            <h2>React Review</h2>
            <ol>
              <li>Functional components</li>
              <li>Container components</li>
            </ol>
          </section>

          <section>
            <h2>When to use each type of component?</h2>
            <ul>
              <li>Functional components are UI-only, and do not need to access state</li>
              <li> -> Therefore they can be expressed as single render functions.</li>
              <li>Container components handle state, and use the class-based pattern, which includes the render function and any other required life cycle methods</li>
            </ul>
          </section>

          <section>
            <h2>Functional Component Example</h2>

            <pre><code contenteditable class="javascript">
            import React from 'react';
            import { render } from 'react-dom';

            const Hello = ({ name }) =&gt; &lt;h1&gt;Hello {name}!&lt;/h1&gt;;

            const App = () =&gt; (
              &lt;div&gt;
                &lt;Hello name="CodeSandbox" /&gt;
                &lt;h2&gt;Start editing to see some magic happen {'\u2728'}&lt;/h2&gt;
              &lt;/div&gt;
            );

            render(&lt;App /&gt;, document.getElementById('root'));
            </code></pre>
          </section>

          <section>
            <h2>Container Component Example</h2>

            <pre><code contenteditable class="javascript">
            import React, { Component } from "react";
            import { render } from "react-dom";

            class AppContainer extends Component {
              state = {
                list: [],
                nameInput: ""
              };

              onChangeInput = event => this.setState({ nameInput: event.target.value });

              onClickButton = () => {
                const { list, nameInput } = this.state;
                const nextList = [...list, nameInput];
                this.setState({ list: nextList });
              };

              render() {
                const { name } = this.props;
                const { list, nameInput } = this.state;

                return (
                  &lt;App
                    list={list}
                    name={name}
                    nameInput={nameInput}
                    onChangeInput={this.onChangeInput}
                    onClickButton={this.onClickButton}
                  /&gt;
                )
              }
            }

            export const App = ({
              list,
              name,
              nameInput,
              onChangeInput,
              onClickButton,
            }) =&gt; (
              &lt;div&gt;
                &lt;h1&gt;{name}&lt;/h1&gt;
                &lt;input onChange={onChangeInput} value={nameInput} /&gt;
                &lt;button onClick={onClickButton}&gt;Add Item&lt;/button&gt;
                &lt;ul&gt;{list.map(name =&gt; &lt;li key={name}&gt;{name}&lt;/li&gt;)}&lt;/ul&gt;
              &lt;/div&gt;
            );

            render(&lt;AppContainer name="Grocery List" /&gt;, document.getElementById("root"));
            </code></pre>
          </section>
        </section>

				<section>
					<section>
						<h2><strong>Connect</strong>ing React and Redux</h2>
						<ul>
							<li>Context</li>
							<li>React-redux library</li>
							<li>Connect</li>
							<li>MapStateToProps</li>
							<li>MapDispatchToProps</li>
							<li>Provider</li>
						</ul>
					</section>
					<section>
						<h2>Context</h2>
						<ul>
							<li>Context is an object available to all of your React components</li>
							<li>Allows you to use state in child components</li>
							<li>Goes a bit against the React philosophy of passing data from parent components to child components through props</li>
							<li>However it makes it easier to separate container and view components, especially when using Redux!</li>
						</ul>
					</section>
					<section>
						<h2>React-redux</h2>
						<ul>
							<li>Contains helper methods to integrate React and Redux seamlessly</li>
							<li>Uses store.subscribe() and context behind the scenes to make Redux state available to any React component</li>
						</ul>
						<pre><code class ="javascript">npm i react-redux --save</code></pre>
					</section>
					<section>
						<h2>Connect</h2>
						<ul>
							<li>A react-redux method that curries React components with Redux logic</li>
							<li>A higher-order function that takes one or two mappers to convert Redux store elements into React props</li>
							<li>Returns a function that takes a React component as an argument, and adds the mapped props to it</li>
						</ul>
						<pre><code class ="javascript" contenteditable="true">
connect(mapStateToProps, mapDispatchToProps)(Filter);

connect(mapStateToProps)(Header); // If mapDispatchToProps is not defined, the dispatch method is added to the Header's props!
						</code></pre>
					</section>
					<section>
						<h2>MapStateToProps</h2>
						<p><code>state => props</code></p>
						<ul>
							<li>Takes your Redux state and returns an object with properties that will be attached to the React component's props argument</li>
							<li>Can also use the props on the component (ownProps) as a second argument</li>
						</ul>
						<pre><code class ="javascript" contenteditable="true">
const mapStateToProps = (state) => ({
	counter: state.counter,
	user: state.user,
	todos: state.todos.filter(todo => todo.type === state.visibleFilterType)
});

const mapStateToProps = (state, ownProps) => ({
	active: state.visibleFilterType === ownProps.filterType
});
						</code></pre>
					</section>
					<section>
						<h2>MapDispatchToProps</h2>
						<p><code>dispatch => props</code></p>
						<ul>
							<li>Maps your dispatch methods to props</li>
							<li>If not used, { dispatch } itself will be added to props</li>
							<li>Can also use existing props (ownProps)</li>
						</ul>
						<pre><code>
const mapDispatchToProps = (dispatch) => ({
	increment: () => dispatch(actions.increment()),
	decrement: () => dispatch(actions.decrement())
});
						</code></pre>
					</section>
					<section>
						<h2>Using connect</h2>
						<pre><code class ="javascript" contenteditable="true">
const mapStateToProps = (state) => ({
	counter: state.counter
});
const mapDispatchToProps = (dispatch) => ({
	increment: () => dispatch(actions.increment()),
	decrement: () => dispatch(actions.decrement())
});
const Counter = ({ counter, increment, decrement }) => (
	<div>
		<span>{counter}</span>
		<button onClick={increment}>+</button>
		<button onClick={decrement}>-</button>
	</div>
);
connect(mapStateToProps, mapDispatchToProps)(Counter);
						</code></pre>
					</section>
					<section>
						<h2>One more step...</h2>
						<ul>
							<li>For <strong>connect</strong> to work, we need to make sure Redux state is attached to our React <code>context</code>.</li>
							<li>We do this by using a react-redux component called Provider, which will wrap our entire app, and thus allow any component to access Redux state and use <strong>connect</strong>.</li>
							<li>Then connect uses context.store behind the scenes to access state and dispatch for <strong>mapStateToProps</strong> and <strong>mapDispatchToProps</strong>.</li>
						</ul>
						<pre><code class ="javascript" contenteditable="true">
const store = createStore(reducer)

render(
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;,
  document.getElementById('root')
)
						</code></pre>
					</section>
					<section>
						<h2>Time to practice using connect!</h2>
						<p>We'll convert this counter example to use react-redux: <a href="https://codesandbox.io/s/q3zoo9l9w9" target="_blank">https://codesandbox.io/s/q3zoo9l9w9M</a></p>
						<p>You can also run and update the counter example <a href="https://github.com/reactjs/redux/tree/master/examples/counter" target="_blank">locally</a></p>
						<p>Finished example: <a href="https://codesandbox.io/s/64qv366r63" target="_blank">https://codesandbox.io/s/64qv366r63</a></p>
						<p>Also check out the Redux docs for more <a href="https://redux.js.org/docs/introduction/Examples.html" target="_blank">examples</a>!</p>
					</section>
				</section>

        <section>
          <section>
            <h2>What is <code>connect</code>?</h2>
            <p>
              Answer: It is a higher-order component (HOC)
            </p>
            <q cite="https://reactjs.org/docs/higher-order-components.html">
              A higher-order component is a function that takes a component and returns a new component
            </q>
          </section>

          <section>
            <h2>Higher-order function</h2>
            <p>A higher-order function is a function that does one or both of the following</p>
            <ol>
              <li>Receives a function as an argument</li>
              <li>Returns a function</li>
            </ol>

            <pre><code contenteditable class="javascript">
            const addOne = x =&gt; x + 1;
            const addTwo = x =&gt; x + 2;

            // Can create these functions with a higher-order function addX
            const addY = y =&gt; x =&gt; x + y;

            // same functionality as before
            const addOne = addY(1);
            const addTwo = addY(2);

            </code></pre>
          </section>

          <section>
            <h2>Higher-order component example</h2>

            <p>A higher-order component is a kind of higher-order function because returns a component which is a function.</p>

            <pre><code contenteditable class="javascript">
            const ViewProps = props => <pre>{JSON.stringify(props, null, 2)}</pre>;

            const withNextCount = count => WrapperComponent => props => {
              const additionalProps = {
                nextCount: count + 1,
              };
              return &lt;WrapperComponent {...additionalProps} {...props} /&gt;;
            };

            const ViewPropsEnhanced = withNextCount(1)(ViewProps);

            render(
              &lt;ViewPropsEnhanced firstName="David" /&gt;,
              document.getElementById('root')
            );
            </code></pre>
          </section>

          <section>
            <h2>Resources To Learn More About HOCs</h2>
            <ul>
              <li><a href="https://reactjs.org/docs/higher-order-components.html">React docs - Higher-Order Components Guide</a></li>
              <li><a href="https://www.youtube.com/watch?v=qJgff2spvzM">Nik Graf's 2017 React Europe Talk</a></li>
            </ul>
          </section>
        </section>

				<section>
					<h2>Practice time!</h2>
					<p>Let's practice implementing connect on our own Redux app!</p>
					<p>Clone and complete a todo app: <a href="https://github.com/arilaen/redux-practice-todos" target="_blank">https://github.com/arilaen/redux-practice-todos</a>
					</p>
				</section>

      <section>
        <section>
            <h2>Day 2 Review</h2>
            <ul>
              <li><code>Provider</code></li>
              <li><code>connect</code> and <code>mapStateToProps</code></li>
              <li><code>mapDispatchToProps</code></li>
            </ul>
        </section>

        <section>
            <h2>Provider</h2>
            <p>What prop do you need to give to the <code>Provider</code> component?</p>
            <p class="fragment">Answer: The Redux <code>store</code></p>
            <p class="fragment">What is the purpose of the <code>Provider</code>?</p>
            <p class="fragment">Answer: Provides <code>store</code> to all child components via context</p>
        </section>

        <section>
            <h2>Provider example usage</h2>
            <pre><code contenteditable class="javascript">
            import React from 'react';
            import { render } from 'react-dom';
            import { Provider } from 'react-redux';
            import { createStore } from 'redux';
            import rootReducer from './rootReducer';
            import App from './App';

            const store = createStore(rootReducer);

            render(
              &lt;Provider store={store}&gt;
                &lt;App /&gt;
              &lt;/Provider&gt;,
              document.getElementById('root')
            );
            </code></pre>
        </section>

        <section>
          <h2>connect</h2>
          <p>What is the purpose of <code>connect</code>?</p>
          <p class="fragment">Answer: connects component to Redux <code>store</code> via a HOC</p>
          <p class="fragment">What does <code>connect</code> receive as the first argument?</p>
          <p class="fragment">Answer: A <code>mapStateToProps</code> function</p>
          <p class="fragment">What does a <code>mapStateToProps</code> function do?</p>
          <p class="fragment">
            Answer: It has access to the <code>store</code>'s state, so it create props from store state. These props will be passed down the component given to the<code>connect</code> HOC.
          </p>
        </section>

        <section>
          <h2>connect and mapStateToProps example usage</h2>
          <pre><code contenteditable class="javascript">
          import React from 'react';
          import { connect } from 'react-redux';

          const Counter = ({ count }) =&gt; (
            &lt;h1&gt;Count is: {count}&lt;h1&gt;
          );

          const mapStateToProps = state =&gt; ({
            count: state.count,
          });

          export default connect(mapStateToProps)(Counter);
          </code></pre>
          <p>Assuming state looks like</p>
          <pre><code contenteditable class="json">
          {
            count: 5
          }
          </code></pre>
        </section>

        <section>
          <h2>mapDispatchToProps</h2>
          <p>Where is <code>mapDispatchToProps</code> used?</p>
          <p class="fragment">Answer: It is given as the second argument to <code>connect</code></p>
          <p class="fragment">What does a <code>mapDispatchToProps</code> function do?</p>
          <p class="fragment">
            Answer: It has access to the <code>store</code>'s <code>dispatch</code>, so it create props from <code>dispatch</code> and actions. These props will be passed down the component given to the<code>connect</code> HOC.
          </p>
          <p class="fragment">What does a <code>mapDispatchToProps</code> object do?</p>
          <p class="fragment">
            Answer: creates functions that dispatch the actions given in the object. These functions will be passed down as props to the component given to the<code>connect</code> HOC.
          </p>
        </section>

        <section>
          <h3>mapDispatchToProps example usage # 1</h3>
          <pre><code contenteditable class="javascript">
          import React from 'react';
          import { connect } from 'react-redux';
          import { addOne, subtractOne } from './actions';

          const Counter = ({ count, onClickAddOne, onClickSubtractOne }) =&gt; (
            &lt;h1&gt;Count is: {count}&lt;h1&gt;
            &lt;button onClick={onClickAddOne}&gt;Add&lt;button/&gt;
            &lt;button onClick={onClickSubtractOne}&gt;Subtract&lt;button/&gt;
          );

          const mapStateToProps = state =&gt; ({ count: state.count });

          const mapDispatchToProps = dispatch =&gt; ({
            onClickAddOne: () =&gt; dispatch(addOne()),
            onClickSubtractOne: () =&gt; dispatch(subtractOne()),
          });

          export default connect(mapStateToProps, mapDispatchToProps)(Counter);
          </code></pre>
        </section>

        <section>
          <h3>mapDispatchToProps example usage # 2</h3>
          <pre><code contenteditable class="javascript">
          import React from 'react';
          import { connect } from 'react-redux';
          import { addOne, subtractOne } from './actions';

          const Counter = ({ count, onClickAddOne, onClickSubtractOne }) =&gt; (
            &lt;h1&gt;Count is: {count}&lt;h1&gt;
            &lt;button onClick={onClickAddOne}&gt;Add&lt;button/&gt;
            &lt;button onClick={onClickSubtractOne}&gt;Subtract&lt;button/&gt;
          );

          const mapStateToProps = state =&gt; ({ count: state.count });

          const mapDispatchToProps = ({
            onClickAddOne: addOne,
            onClickSubtractOne: subtractOne,
          });

          export default connect(mapStateToProps, mapDispatchToProps)(Counter);
          </code></pre>
        </section>
        <section>
          <h2>What is a <strong>container</strong> component?</h2>
          <p class="fragment">Handles state logic</p>
          <p class="fragment">Usually a <strong>class</strong> component</p>
          <p class="fragment"><strong>Presentational</strong> components handle UI logic</p>
          <p class="fragment">Those are usually <strong>functional</strong> components</p>
          <p class="fragment">However! It is possible to create a component that handles Redux state from a presentational or functional component with...</p>
          <p class="fragment"><pre><code>connect</code></pre>!</p>
        </section>
        <section>
          <h2><pre><code>connect</code></pre> and containers</h2>
          <p class="fragment">Wrapping components in <pre><code>connect</code></pre> creates new container components that have access to Redux state and dispatch (as props)!</p>
          <p class="fragment">If the original components do not have a lot of their own state logic, they can still be presentational components. Usually, only the connected component will be exported.</p>
          <p class="fragment">Example: TodoFilter that filters visible todos based on their completed state, and <pre><code>export default VisibleTodoFilter = connect(mapStateToProps)(TodoFilter)</code></pre></p>
          <p class="fragment">Other presentational components can be reused, so should be created separately, and used in other components created with <pre><code>connect</code></pre>.
          <p class="fragment">Example: A <pre><code>Link</code></pre> component can be used to create <pre><code>HeaderLink</code></pre> and <pre><code>FooterLink</code></pre>components! In that case you may want to create a Link component and separate files for HeaderLink and FooterLink.</p>
          <p class="fragment">Are components created with connect containers? Technically yes. I don't always put them in the containers folder if the components they're created from are small and don't have child components. There's no hard and fast rule!</p>
          <p class="fragment">Further reading: <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container Components</a> by Dan Abramov</p>
        </section>
      </section>

      <section>
        <h3>Practice converting an app to using Redux</h3>
        <a href="https://github.com/davidrf/intro-to-redux-day-2-review">https://github.com/davidrf/intro-to-redux-day-2-review</a>
        <pre><code>
        $ git clone https://github.com/davidrf/intro-to-redux-day-2-review.git
        $ cd intro-to-redux-day-2-review
        $ yarn install
        $ yarn start
        </code></pre>
      </section>

      <section>
        <h3>Practice creating a grocery list app from scratch</h3>
        <a href="https://github.com/arilaen/intro-to-redux-day-2-grocery-list">https://github.com/arilaen/intro-to-redux-day-2-grocery-list</a>
        <pre><code>
        $ git clone https://github.com/arilaen/intro-to-redux-day-2-grocery-list
        $ cd intro-to-redux-day-2-grocery-list
        $ yarn install
        $ yarn start
        </code></pre>
      </section>

      <section>
        <section>
          <h2>Handling HTTP Requests</h2>

          <p>Where do we make HTTP requests and how do we get the data in our store?</p>
        </section>

        <section>
          <h2>Example API Data</h2>
          <p>What would your reducer look like in order to handle this incoming data?</p>
          <pre><code contenteditable class="json">
            {
              "events": [
                {
                  "id": 1,
                  "name": "Introduction To React",
                  ]
                },
                {
                  "id": 2,
                  "name": "Introduction To Redux",
                },
              ]
            }
          </code></pre>
        </section>

        <section>
          <h2>Example events reducer</h2>

          <pre><code contenteditable class="javascript">
            import { combineReducers } from 'redux';

            const initialState = {
              all: [],
              isLoading: false
            };

            // action.payload is the whole API response
            const all = (state = initialState.all, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                  return action.payload.events;
                default:
                  return state
              }
            });

            const isLoading = (state = initialState.isLoading, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST':
                  return true;
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                case 'FETCH_EVENTS_REQUEST_FAILURE':
                  return false;
                default:
                  return state
              }
            });

            const users = combineReducers({
              all,
              isLoading,
            });

            export default events;
          </code></pre>
        </section>

        <section>
          <h2>Action Creators</h2>

          <pre><code contenteditable class="javascript">
            const fetchEventsRequest = () =&gt; ({
              type: 'FETCH_EVENTS_REQUEST',
            });

            const fetchEventsRequestFailure = () =&gt; ({
              type: 'FETCH_EVENTS_REQUEST_FAILURE',
            });

            // payload is the whole API response
            const fetchEventsRequestSuccess = payload =&gt; ({
              type: 'FETCH_EVENTS_REQUEST_SUCCESS',
              payload,
            });
          </code></pre>
        </section>

        <section>
          <h3>Do API request in <code>componentDidMount</code></h3>

          <pre><code contenteditable class="javascript">
            import React, { Component } from 'react';
            import { connect } from 'react-redux';
            import Events from '../components/Events';
            import {
              fetchEventsRequest,
              fetchEventsRequestFailure,
              fetchEventsRequestSuccess,
            } from '../reducers/events';

            class EventsContainer extends Component {
              componentDidMount() {
                this.props.fetchEventsRequest();

                fetch('http://localhost:3000/api/events')
                .then(response =&gt; {
                  if (response.ok) {
                    return response.json();
                  }

                  throw new Error('request failed');
                })
                .then(
                  payload =&gt; this.props.fetchEventsRequestSuccess(payload),
                  () =&gt; this.props.fetchEventsRequestFailure(),
                );
              }

              render() {
                return &lt;Events events={this.props.events} /&gt;;
              }
            }

            const mapStateToProps = state =&gt; ({
              events: state.events.all,
            });

            export default connect(mapStateToProps, {
              fetchEventsRequest,
              fetchEventsRequestFailure,
              fetchEventsRequestSuccess,
            })(EventsContainer);
          </code></pre>
        </section>
      </section>

      <section>
        <section>
          <h2>Handling Side-Effects</h2>

          <p>Redux reducers and actions are pure. How do we handle anything that produces side-effects??</p>
        </section>

        <section>
          <h3>Redux Middleware Handles Side-Effects</h3>

          <ul>
            <li>Code that runs after calling <code>dispatch</code> with an action, but before the dispatched action reaches the reducers.</li>
            <li>Receives every dispatched action, <code>store</code>, <code>next</code>.</li>
            <li>Can log actions, cancel actions, dispatch new actions, and much more.</li>
            <li>It may run code that produces side effects!</li>
          </ul>
        </section>

        <section>
          <h3>Redux Architecture With Middleware</h3>

          <p>
						<img src="./detailed-redux-flow.png" style="border: none; box-shadow:none;" />
					</p>
        </section>

        <section>
          <h3>Example middleware: Redux thunk</h3>

          <span>To install: <code>yarn add redux-thunk</code></span>

          <pre><code contenteditable class="javascript">
          const thunk = store =&gt; next =&gt; action =&gt; {
            if (typeof action === 'function') {
              return action(store.dispatch, store.getState);
            }

            return next(action);
          };
          </code></pre>
        </section>

        <section>
          <h3>Adding Middleware To Store</h3>

          <pre><code contenteditable class="javascript">
          import { createStore, applyMiddleware } from 'redux';
          import thunk from 'redux-thunk';
          import rootReducer from '../reducers';

          const configureStore = preloadedState =&gt; {
            const enhancer = applyMiddleware(thunk);

            return createStore(rootReducer, preloadedState, enhancer);
          };

          export default configureStore;
          </code></pre>
        </section>

        <section>
          <h3>How To Refactor HTTP Request Strategy?</h3>

          <p class="fragment">
            Create a single function that does the request and dispatches actions, and dispatch that function.
          </p>

          <pre><code contenteditable class="javascript">
          // From EventsContainer file
            componentDidMount() {
              this.props.fetchEventsRequest();

              fetch('http://localhost:3000/api/events')
              .then(response =&gt; {
                if (response.ok) {
                  return response.json();
                }

                throw new Error('request failed');
              })
              .then(
                payload =&gt; this.props.fetchEventsRequestSuccess(payload),
                () =&gt; this.props.fetchEventsRequestFailure(),
              );
            }
          </code></pre>
        </section>

        <section>
          <h2>Creating A Thunk</h2>

          <pre><code contenteditable class="javascript">
            const fetchEventsRequest = () =&gt; ({
              type: 'FETCH_EVENTS_REQUEST',
            });

            const fetchEventsRequestFailure = () =&gt; ({
              type: 'FETCH_EVENTS_REQUEST_FAILURE',
            });

            // payload is the whole API response
            const fetchEventsRequestSuccess = payload =&gt; ({
              type: 'FETCH_EVENTS_REQUEST_SUCCESS',
              payload,
            });

            export const fetchEvents = () =&gt; (dispatch, getState) =&gt; {
                dispatch(fetchEventsRequest());

                fetch('http://localhost:3000/api/events')
                .then(response =&gt; {
                  if (response.ok) {
                    return response.json();
                  }

                  throw new Error('request failed');
                })
                .then(
                  payload =&gt; dispatch(fetchEventsRequestSuccess(payload)),
                  () =&gt; dispatch(fetchEventsRequestFailure()),
                );
            }
          </code></pre>
        </section>

        <section>
          <h2>Example API Data</h2>
          <p>What would your reducer look like in order to handle this incoming data?</p>
          <pre><code contenteditable class="json">
            {
              "events": [
                {
                  "id": 1,
                  "name": "Introduction To React",
                  ]
                },
                {
                  "id": 2,
                  "name": "Introduction To Redux",
                },
              ]
            }
          </code></pre>
        </section>

        <section>
          <h3>Example events reducer (unchanged)</h3>

          <pre><code contenteditable class="javascript">
            import { combineReducers } from 'redux';

            const initialState = {
              all: [],
              isLoading: false
            };

            // action.payload is the whole API response
            const all = (state = initialState.all, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                  return action.payload.events;
                default:
                  return state
              }
            });

            const isLoading = (state = initialState.isLoading, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST':
                  return true;
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                case 'FETCH_EVENTS_REQUEST_FAILURE':
                  return false;
                default:
                  return state
              }
            });

            const users = combineReducers({
              all,
              isLoading,
            });

            export default events;
          </code></pre>
        </section>

        <section>
          <h4>Do API request in <code>componentDidMount</code> With Thunk</h4>

          <pre><code contenteditable class="javascript">
            import React, { Component } from 'react';
            import { connect } from 'react-redux';
            import Events from '../components/Events';
            import { fetchEvents } from '../reducers/events';

            class EventsContainer extends Component {
              componentDidMount() {
                fetchEvents();
              }

              render() {
                return &lt;Events events={this.props.events} /&gt;;
              }
            }

            const mapStateToProps = state =&gt; ({
              events: state.events.all,
            });

            export default connect(mapStateToProps, {
              fetchEvents,
            })(EventsContainer);
          </code></pre>
        </section>
      </section>

      <section>
        <section>
          <h2>Normalizing Data</h2>
          <p>How would you handle adding the following API response data to your redux store?</p>
          <pre><code contenteditable class="json">
            {
              "events": [
                {
                  "id": 1,
                  "name": "Introduction To React",
                  "students": [
                    { "id": 1, "name": "Eager Student 1" },
                    { "id": 2, "name": "Eager Student 2" }
                  ]
                },
                {
                  "id": 2,
                  "name": "Introduction To Redux",
                  "students": [
                    { "id": 1, "name": "Eager Student 1" },
                    { "id": 3, "name": "Eager Student 3" }
                  ]
                },
              ]
            }
          </code></pre>
        </section>

        <section>
          <h2>Problems With Nested Data</h2>
          <ul>
            <li>Harder to update if there is duplicate data</li>
            <li>Reducer logic becomes more complex</li>
            <li>Can trigger unnecessary renders</li>
          </ul>
        </section>

        <section>
          <h2>Normalizing data with <code>normalizr</code></h2>

          <div style="display: flex;background: #333;">
            <pre><code contenteditable class ="javascript">
  {
    "classes": [
      {
        "id": 1,
        "name": "Introduction To React",
        "students": [
          { "id": 1, "name": "Eager Student 1" },
          { "id": 2, "name": "Eager Student 2" }
        ]
      },
      {
        "id": 2,
        "name": "Introduction To Redux",
        "students": [
          { "id": 1, "name": "Eager Student 1" },
          { "id": 3, "name": "Eager Student 3" }
        ]
      },
    ]
  }
            </code></pre>
            <pre><code contenteditable class="javascript">
  {
    "entities": {
      "users": {
        1: {
          "id": 1,
          "name": "Eager Student 1"
        },
        2: {
          "id": 2,
          "name": "Eager Student 2"
        },
        3: {
          "id": 3,
          "name": "Eager Student 3"
        }
      },
      "events": {
        1: {
          "id": 1,
          "name": "Introduction To React",
          "users": [
            1,
            2
          ]
        },
        2: {
          "id": 2,
          "name": "Introduction To Redux",
          "users": [
            1,
            3
          ]
        }
      }
    },
    "result": {
      "events": [
        1,
        2
      ]
    }
  }
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Using <code>normalizr</code></h2>
          <pre><code contenteditable class="json">
        {
          "events": [
            {
              "id": 1,
              "name": "Introduction To React",
              "users": [
                { "id": 1, "name": "Eager Student 1" },
                { "id": 2, "name": "Eager Student 2" }
              ]
            }
          ]
        }
          </code></pre>
          <pre><code contenteditable class="javascript">
        import { normalize, schema } from 'normalizr';

        const user = new schema.Entity('users');
        const event = new schema.Entity('events', { users: [user]});
        export const normalizeEvents = data =&gt; normalize(data, { events: [event] })
          </code></pre>
        </section>

        <section>
          <h2>Updating <code>fetchEvents</code> thunk</h2>
          <pre><code contenteditable class="javascript">
            import { normalizeEvents } from './normalizers';

            export const fetchEvents = () =&gt; (dispatch, getState) =&gt; {
                dispatch(fetchEventsRequest());

                fetch('http://localhost:3000/api/events')
                .then(response =&gt; {
                  if (response.ok) {
                    return response.json();
                  }

                  throw new Error('request failed');
                })
                .then(responseBody =&gt; normalizeEvents(responseBody))
                .then(
                  payload =&gt; dispatch(fetchEventsRequestSuccess(payload)),
                  () =&gt; dispatch(fetchEventsRequestFailure()),
                );
            }
          </code></pre>
        </section>

        <section>
          <h4>Incorporating Normalized Data - users reducer</h4>

          <pre><code contenteditable class="javascript">
            import { combineReducers } from 'redux';

            const initialState = {
              byId: {},
            };

            const byId = (state = initialState.byId, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                  // action.payload is the normalized data
                  return { ...state, action.payload.entities.users };
                default:
                  return state
              }
            });

            const users = combineReducers({
              byId,
            });

            export default users;
          </code></pre>
        </section>

        <section>
          <h4>Incorporating Normalized Data - events reducer</h4>

          <pre><code contenteditable class="javascript">
            import { combineReducers } from 'redux';

            const initialState = {
              byId: {},
              indexIds: [],
            };

            const byId = (state = initialState.byId, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                  // action.payload is the normalized data
                  return { ...state, action.payload.entities.events };
                default:
                  return state
              }
            });

            const indexIds = (state = initialState.indexIds, action) =&gt; {
              switch (action.type) {
                case 'FETCH_EVENTS_REQUEST_SUCCESS':
                  // action.payload is the normalized data
                  return [...state, action.payload.result.events];
                default:
                  return state
              }
            });

            const users = combineReducers({
              byId,
              indexIds,
            });

            export default events;
          </code></pre>
        </section>

        <section>
          <h3>Creating the root reducer from</h3>
          <h3><code>events</code>reducer and <code>users</code>reducer</h3>

          <pre><code contenteditable class="javascript">
            import { combineReducers } from 'redux';
            import events from './events';
            import users from './users';

            export default combineReducers({
              events,
              users,
            });
          </code></pre>
        </section>
      </section>

      <section>
        <section>
          <h2>Querying Normalized Data</h2>
          <ul>
            <li>How do we get a specific resource?</li>
            <li>How do we get a list of resources?</li>
          </ul>
        </section>

        <section>
          <h2>Getting a specific event</h2>

          <pre><code contenteditable class="javascript">
            const mapStateToProps = (state, props) =&gt; ({
              event: state.events.byId[props.eventId],
            });
          </code></pre>

          <div class="fragment">
            <p>Can clean up <code>mapStateToProps</code> by creating a selector function</p>

            <pre><code contenteditable class="javascript">
              const event = (state, props) =&gt; {
                const { byId } = state.events;
                const { eventId } = props;

                return byId[eventId];
              };

              const mapStateToProps = (state, props) =&gt; ({
                event: event(state, props),
              });
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Getting a list of events</h2>

          <pre><code contenteditable class="javascript">
            const events = state =&gt; {
              const { byId, indexIds } = state.events;
              return indexIds.map(id =&gt; byId[id]);
            };

            const mapStateToProps = (state, props) =&gt; ({
              events: events(state),
            });
          </code></pre>
        </section>
      </section>

				<section>
					<h1>THE END</h1>
					<h4>Special thanks to: Hakim El Hattab / hakim.se for this template (reveal.js)</h4>
				</section>

			</div>
  		<footer>
        <div class="copyright">
          Introduction to Redux -- Girl Develop It Boston --
          <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/80x15.png" /></a>
        </div>
      </footer>
		</div>


		<script src="dist/js/head.min.js"></script>
		<script src="dist/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'dist/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/accessibility-helper/js/accessibility-helper.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
